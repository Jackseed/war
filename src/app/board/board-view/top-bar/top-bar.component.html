<div [ngSwitch]="true" class="center">

  <ng-container *ngSwitchCase="(gameStatus$ | async) === 'waiting'">
      <h1>WAITING FOR AN OPPONENT</h1>
      <p>Prepare yourself with the dino :)</p>
  </ng-container>

  <ng-container *ngSwitchCase="(gameStatus$ | async) === 'unit creation'">
    <h1>CREATE YOUR ARMY</h1>
    <p>Be wise, your opponent is doing the same.</p>
  </ng-container>

  <ng-container *ngSwitchCase="(gameStatus$ | async) === 'placement'">
    <h1>POSITION YOUR ARMY</h1>
    <p>Battle will start soon.</p>
  </ng-container>

  <ng-container *ngSwitchCase="(gameStatus$ | async) === 'battle'">

    <ng-container *ngIf="(player$ | async).isActive; else unactive">
      <ng-container *ngIf="(player$ | async) as player">
        <h1>YOUR TURN</h1>
        <p [ngPlural]="actionsPerTurn - player.actionCount">
          <ng-template ngPluralCase="=1">You have {{actionsPerTurn - player.actionCount}} action left</ng-template>
          <ng-template ngPluralCase="other">You have {{actionsPerTurn - player.actionCount}} actions left</ng-template>
        </p>
      </ng-container>
    </ng-container>

    <ng-template #unactive>
      <ng-container *ngIf="(opponent$ | async) as opponent">
        <h1>OPPONENT'S TURN</h1>
        <p [ngPlural]="actionsPerTurn - opponent.actionCount">
          <ng-template ngPluralCase="=1">Opponent has {{actionsPerTurn - opponent.actionCount}} action left</ng-template>
          <ng-template ngPluralCase="other">Opponent has {{actionsPerTurn - opponent.actionCount}} actions left</ng-template>
        </p>
      </ng-container>
    </ng-template>

  </ng-container>

  <ng-container *ngSwitchCase="(gameStatus$ | async) === 'finished'">

    <ng-container *ngIf="(player$ | async).isVictorious; else defeat">
      <h1>VICTORY</h1>
      <p>Well done, General.</p>
    </ng-container>

    <ng-template #defeat>
      <h1>DEFEAT</h1>
      <p>Try again.</p>
    </ng-template>

  </ng-container>

</div>
